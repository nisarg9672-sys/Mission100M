"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FasterROC = exports.ROC = void 0;
const __1 = require("..");
const Indicator_1 = require("../Indicator");
class ROC extends Indicator_1.BigIndicatorSeries {
    constructor(interval) {
        super();
        this.interval = interval;
        this.prices = [];
    }
    update(price) {
        this.prices.push(new __1.Big(price));
        if (this.prices.length > this.interval) {
            const comparePrice = this.prices.shift();
            return this.setResult(new __1.Big(price).sub(comparePrice).div(comparePrice));
        }
    }
}
exports.ROC = ROC;
class FasterROC extends Indicator_1.NumberIndicatorSeries {
    constructor(interval) {
        super();
        this.interval = interval;
        this.prices = [];
    }
    update(price) {
        this.prices.push(price);
        if (this.prices.length > this.interval) {
            const comparePrice = this.prices.shift();
            return this.setResult((price - comparePrice) / comparePrice);
        }
    }
}
exports.FasterROC = FasterROC;
//# sourceMappingURL=ROC.js.map