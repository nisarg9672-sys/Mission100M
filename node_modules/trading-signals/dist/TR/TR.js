"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.FasterTR = exports.TR = void 0;
const __1 = require("..");
const Indicator_1 = require("../Indicator");
const util_1 = require("../util");
class TR extends Indicator_1.BigIndicatorSeries {
    update(candle) {
        const high = new __1.Big(candle.high);
        const highLow = high.minus(candle.low);
        if (this.previousCandle) {
            const highClose = high.minus(this.previousCandle.close).abs();
            const lowClose = new __1.Big(candle.low).minus(this.previousCandle.close).abs();
            this.previousCandle = candle;
            return this.setResult((0, util_1.getMaximum)([highLow, highClose, lowClose]));
        }
        this.previousCandle = candle;
        return this.setResult(highLow);
    }
}
exports.TR = TR;
class FasterTR extends Indicator_1.NumberIndicatorSeries {
    update(candle) {
        const { high, low } = candle;
        const highLow = high - low;
        if (this.previousCandle) {
            const highClose = Math.abs(high - this.previousCandle.close);
            const lowClose = Math.abs(low - this.previousCandle.close);
            this.previousCandle = candle;
            return this.setResult(Math.max(highLow, highClose, lowClose));
        }
        this.previousCandle = candle;
        return this.setResult(highLow);
    }
}
exports.FasterTR = FasterTR;
//# sourceMappingURL=TR.js.map